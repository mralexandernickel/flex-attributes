module.exports = (grunt) ->

  grunt.initConfig
    pkg: grunt.file.readJSON "package.json"
    dist_path: "dist"
    src_path: "src"
    pkg_name: "gh-boilerplate"
    includereplace:
      demo:
        options:
          prefix: '<!-- @@'
          suffix: ' -->'
          includesDir: '.'
        src: 'src/template/layout.html'
        dest: 'index.html'
    sass:
      dist:
        options:
          includePaths: [
            "node_modules/@mralexandernickel/responsive-helpers/src/sass"
          ]
        files:
          "<%= dist_path %>/<%= pkg_name %>.css": "<%= src_path %>/sass/index.sass"
    cssmin:
      dist:
        files:
          "<%= dist_path %>/<%= pkg_name %>.min.css": "<%= dist_path %>/<%= pkg_name %>.prefixed.css"
    sasslint:
      options:
        configFile: ".sass-lint.yml"
      target: ["./*.sass"]
    autoprefixer:
      dist:
        src: "<%= dist_path %>/<%= pkg_name %>.css"
        dest: "<%= dist_path %>/<%= pkg_name %>.prefixed.css"

  grunt.loadNpmTasks "grunt-sass"
  grunt.loadNpmTasks "grunt-contrib-cssmin"
  grunt.loadNpmTasks "grunt-sass-lint"
  grunt.loadNpmTasks "grunt-autoprefixer"
  grunt.loadNpmTasks "grunt-include-replace"

  grunt.registerTask "default", ["sasslint","sass","autoprefixer","cssmin","includereplace"]